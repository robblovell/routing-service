{"version":3,"sources":["gulpfile.coffee"],"names":[],"mappings":"AACA,IAAA;;AAAA,IAAA,GAAO,OAAA,CAAQ,MAAR;;AACP,KAAA,GAAQ,OAAA,CAAQ,WAAR;;AACR,MAAA,GAAS,OAAA,CAAQ,aAAR;;AACT,UAAA,GAAa,OAAA,CAAQ,iBAAR;;AACb,KAAA,GAAQ,OAAA,CAAQ,OAAR;;AACR,IAAA,GAAO,OAAA,CAAQ,MAAR;;AACP,GAAA,GAAM,OAAA,CAAQ,UAAR;;AACN,EAAA,GAAK,OAAA,CAAQ,SAAR;;AACL,IAAA,GAAO,OAAA,CAAQ,WAAR;;AACP,MAAA,GAAS,OAAA,CAAQ,aAAR;;AACT,WAAA,GAAc,OAAA,CAAQ,sBAAR;;AAEd,OAAA,GAAU;;AACV,aAAA,GAAgB;;AAChB,WAAA,GAAc,CAAC,aAAD;;AACd,SAAA,GAAY,CAAC,mBAAD;;AACZ,WAAA,GAAc,CAAC,gCAAD;;AAEd,WAAA,GAAc,SAAC,GAAD;EACV,OAAO,CAAC,GAAR,CAAY,GAAG,CAAC,QAAJ,CAAA,CAAZ;SACA,IAAC,CAAA,IAAD,CAAM,KAAN;AAFU;;AAId,IAAI,CAAC,IAAL,CAAU,OAAV,EAAmB,SAAA;SACf,IAAI,CAAC,GAAL,CAAS,WAAT,CACA,CAAC,IADD,CAEI,GAAA,CAAI,SAAC,IAAD,EAAO,CAAP;WACA,KAAA,CAAM,IAAI,CAAC,IAAX;EADA,CAAJ,CAFJ;AADe,CAAnB;;AAQA,IAAI,CAAC,IAAL,CAAU,eAAV,EAA2B,SAAA;SACvB,IAAI,CAAC,GAAL,CAAS,WAAT,CACA,CAAC,IADD,CACM,UAAU,CAAC,IAAX,CAAA,CADN,CAEA,CAAC,IAFD,CAEM,WAAA,CAAY,MAAA,CAAO;IAAC,IAAA,EAAM,IAAP;GAAP,CAAoB,CAAC,EAArB,CAAwB,OAAxB,EAAiC,KAAK,CAAC,GAAvC,CAAZ,EAAyD,OAAzD,CAFN,CAGA,CAAC,IAHD,CAGM,WAAA,CAAY,UAAU,CAAC,KAAX,CAAiB,IAAjB,CAAZ,EAAoC,OAApC,CAHN,CAIA,CAAC,IAJD,CAIM,WAAA,CAAY,IAAI,CAAC,IAAL,CAAU,SAAC,IAAD;AAAU,WAAO,IAAI,CAAC;EAAtB,CAAV,CAAZ,EAAmD,OAAnD,CAJN;AADuB,CAA3B;;AAkBA,IAAI,CAAC,IAAL,CAAU,KAAV,EAAkB,SAAA;AACd,SAAO,IAAI,CAAC,GAAL,CAAS,gBAAT,CACP,CAAC,IADM,CACD,MAAA,CAAA,CADC,CAEP,CAAC,IAFM,CAED,IAAI,CAAC,IAAL,CAAU,aAAV,CAFC;AADO,CAAlB;;AAMA,IAAI,CAAC,IAAL,CAAU,OAAV,EAAmB,SAAA;SACf,IAAI,CAAC,KAAL,CAAW,WAAX,EAAwB,CAAC,eAAD,CAAxB;AADe,CAAnB;;AAMA,IAAI,CAAC,IAAL,CAAU,OAAV,EAAmB,CAAC,eAAD,CAAnB;;AAEA,IAAI,CAAC,IAAL,CAAU,SAAV,EAAqB,CAAC,OAAD,EAAU,eAAV,CAArB;;AAEA,IAAI,CAAC,IAAL,CAAU,MAAV,EAAkB,CAAC,SAAA,GAAA,CAAD,CAAlB","file":"gulpfile.js","sourcesContent":["# Gulp stuff.\r\ngulp = require('gulp')\r\ngutil = require('gulp-util')\r\ncoffee = require('gulp-coffee')\r\nsourcemaps = require('gulp-sourcemaps')\r\ntouch = require('touch')\r\npath = require('path')\r\ntap = require('gulp-tap')\r\nsh = require('shelljs')\r\njade = require('gulp-jade')\r\nstylus = require('gulp-stylus')\r\nparallelize = require(\"concurrent-transform\")\r\n\r\nthreads = 100\r\nuseSourceMaps = true\r\ncoffeeFiles = ['**/*.coffee']\r\njadeFiles = ['./views/**/*.jade']\r\nstylusFiles = ['./public/stylesheets/**/*.styl']\r\n\r\nhandleError = (err) ->\r\n    console.log(err.toString())\r\n    @emit('end')\r\n\r\ngulp.task('touch', () ->\r\n    gulp.src(coffeeFiles)\r\n    .pipe(\r\n        tap((file, t) ->\r\n            touch(file.path)\r\n        )\r\n    )\r\n)\r\ngulp.task('coffeescripts', () ->\r\n    gulp.src(coffeeFiles)\r\n    .pipe(sourcemaps.init())\r\n    .pipe(parallelize(coffee({bare: true}).on('error', gutil.log), threads))\r\n    .pipe(parallelize(sourcemaps.write('./'), threads))\r\n    .pipe(parallelize(gulp.dest((file) -> return file.base), threads))\r\n)\r\n\r\n#gulp.task('jadescripts', () ->\r\n#    gulp.src(jadeFiles)\r\n#    .pipe(parallelize(jade().on('error', gutil.log), threads))\r\n#)\r\n#\r\n#gulp.task('stylusscripts', () ->\r\n#    gulp.src(stylusFiles)\r\n#    .pipe(parallelize(stylus().on('error', gutil.log), threads))\r\n#)\r\n\r\ngulp.task('one',  () ->\r\n    return gulp.src('./css/one.styl')\r\n    .pipe(stylus())\r\n    .pipe(gulp.dest('./css/build'))\r\n)\r\n\r\ngulp.task('watch', () ->\r\n    gulp.watch(coffeeFiles, ['coffeescripts'])\r\n#    gulp.watch(jadeFiles, ['jadescripts'])\r\n#    gulp.watch(stylusFiles, ['stylusscripts'])\r\n)\r\n\r\ngulp.task('build', ['coffeescripts']) # ,'jadescripts','stylusscripts'])\r\n\r\ngulp.task('default', ['watch', 'coffeescripts'])\r\n\r\ngulp.task('done', (() -> ))"]}